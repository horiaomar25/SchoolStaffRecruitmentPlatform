use SchoolStaffRecruitmentPlatform;


CREATE TABLE AppUser (
  id INT PRIMARY KEY IDENTITY(1,1),
  email VARCHAR(255) NOT NULL,
  password VARCHAR(255) NOT NULL,
)


CREATE TABLE Profile(
 id int PRIMARY KEY IDENTITY(1,1),
 profilePicture VARCHAR(255),
  firstName VARCHAR(255) NOT NULL,
  lastName VARCHAR(255) NOT NULL,
  role VARCHAR(255) NOT NULL,
  profileDescription TEXT,
  users_id int,
  FOREIGN KEY (users_id) REFERENCES AppUser(id),
)


CREATE TABLE School (
id int PRIMARY KEY IDENTITY(1,1),
schoolName  VARCHAR(255),
schoolAddress  VARCHAR(255)
)

INSERT INTO School (school_name,school_address,school_picture,school_website)
VALUES
('Vicarage Primary School','Vicarage Lane,East Ham,London E6 6AD','https://vicarage.newham.sch.uk/wp-content/uploads/2024/03/sch-logo.png', 'https://vicarage.newham.sch.uk/'),
('Lansbury Lawrence Primary School','Cordelia Street London E14 6DZ', 'https://lansburylawrence.towerhamlets.sch.uk/wp-content/uploads/2020/10/ll_logo.jpg','https://lansburylawrence.towerhamlets.sch.uk/'),
('Scott Wilkie Primary School','Hoskins Close, Newham, London E16 3HD','https://scottwilkie.newham.sch.uk/wp-content/uploads/2022/07/sw-logo.png','https://scottwilkie.newham.sch.uk/' ),
('Stebon Primary School','Burdett Estate, Wallwood Street, Tower Hamlets, London E14 7AD','https://stebon.org.uk/wp-content/uploads/2020/12/Stebon.png', 'https://stebon.org.uk/'),
('Cayley Primary School','Aston Street, Stepney, Tower Hamlets, London E14 7NG','https://www.cayley.towerhamlets.sch.uk/images/school-logo-white.svg', 'https://www.cayley.towerhamlets.sch.uk/' )
('St. Stephen CE Primary School','Uxbridge Road Shepherd Bush London W12 8LH','https://www.ststephensce.lbhf.sch.uk/wp-content/themes/St-Stephens/assets/img/logo_blue.png', 'https://www.ststephensce.lbhf.sch.uk/' ),
('Bigland Green Primary School','Bigland Street, Wapping, Tower Hamlets, London E1 2ND', 'https://biglandgreen.towerhamlets.sch.uk/wp-content/uploads/2019/07/logo-small-1.png','https://biglandgreen.towerhamlets.sch.uk/' ),
('Richard Cobden Primary School','Camden Street, Camden, London NW1 0LL','https://www.edarabia.com/wp-content/uploads/2018/04/richard-cobden-primary-school-camden-london-england.jpg', 'https://www.rcobden.camden.sch.uk/'),
('Argyle Primary School','Tonbridge Street, Camden, London WC1H 9EG','https://www.argyle.camden.sch.uk/_site/data/files/images/logos/5EC6CA02AC328062C23356BAEBDBF0A7.png','https://www.argyle.camden.sch.uk/'  ),
('Hague Primary School','Wilmot Street, Tower Hamlets, London E2 0BP','https://www.edarabia.com/wp-content/uploads/2018/05/hague-primary-school-tower-hamlets-london.png', 'https://www.shhfederation.org/?category=hague')



Need to add Qualifications and WorkHistory to Profile so they are all together when fetched from the database
CREATE TABLE Qualifications (
  id int PRIMARY KEY IDENTITY(1,1),
  qualificationName VARCHAR(255),
  institution VARCHAR(255),
  yearObtained int,
 profile_id int,
  FOREIGN KEY (profile_id) REFERENCES Profile(id)
)


CREATE TABLE WorkHistory (
id int PRIMARY KEY IDENTITY(1,1),
schoolName VARCHAR(255),
role VARCHAR(255),
duration VARCHAR(255),
school_id int,
FOREIGN KEY (school_id) REFERENCES School (id),
 profile_id int,
FOREIGN KEY (profile_id) REFERENCES Profile(id)
)


CREATE TABLE Assignment (
id int PRIMARY KEY IDENTITY(1,1),
role VARCHAR(255),
startDate date,
endDate date,
Assignmentdescription text,
school_id int,
FOREIGN KEY (school_id) REFERENCES School (id),
users_id int,
FOREIGN KEY (users_id) REFERENCES AppUser(id)
)





CREATE TABLE Feedback (
id int PRIMARY KEY IDENTITY(1,1),
schoolName VARCHAR(255),
schoolAddress VARCHAR(255),
school_id INT,
FOREIGN KEY (school_id) REFERENCES School (id),
users_id int,
FOREIGN KEY (users_id) REFERENCES AppUser(id)
)



CREATE TABLE TimeSheets (
id int PRIMARY KEY IDENTITY(1,1),
 startDate Date,
 endDate Date,
school_id INT,
FOREIGN KEY (school_id) REFERENCES School (id),
users_id int,
FOREIGN KEY (users_id) REFERENCES AppUser (id),
assignment_id INT,
FOREIGN KEY (assignment_id) REFERENCES Assignment(id),
)

CREATE TABLE Availability (
  id INT PRIMARY KEY IDENTITY(1,1),
  startDate DATE NOT NULL,
  endDate DATE NOT NULL,
  users_id INT,
  FOREIGN KEY (users_id) REFERENCES AppUser(id)
)


